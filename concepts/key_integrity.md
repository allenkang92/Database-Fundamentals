키와 무결성

키의 종류

키의 분류

슈퍼키

릴레이션을 구성하는 속성 중에서 각 튜플을 유일하게 식별하기 위해 사용되는 하나 이상의 속성들의 집합

두 개 이상의 속성으로 구성된 키 또는 혼합키(혼합한 때도 기본키로 설정 가능)를 의미

모든 튜플에 대해 유일성(튜플이 중복되지 않는 성질)은 만족하지만, 최소성(키를 구성하는 속성의 개수를 최소화하는 것)은 만족하지 않는다.

릴레이션의 모든 속성 중에서 선택할 수 있으며, 릴레이션의 기본키를 결정하는데 사용

후보키

모든 튜플을 유일하게 식별할 수 있는 하나 또는 몇 개의 속성 집합

모든 튜플에 대해 유일성과 최소성 모두 만족

후보키를 활용하여 릴레이션의 데이터를 더욱 쉽게 검색하고 활용할 수 있다.

슈퍼키에서 구해진 속성, 속성 집합 중 가장 적은 속성의 집합(최소성)이 후보키가 된다.

슈퍼키

튜플을 고유하게 식별할 수 있는 속성(열) 또는 속성(열)의 집합

유일성 O

최소성 X

후보키

튜플을 고유하게 식별할 수 있는 속성(열) 또는 속성(열)의 집합

유일성 O

최소성 O

기본키

후보키 중에서 대표로 선정된 키

널 값(Null Value, 공백이나 0과는 다른 의미, 아직 알려지지 않거나 모르는 값)을 가질 수 없다

릴레이션에서 중복을 허용하지 않으며, 각 튜플을 고유하게 식별할 수 있는 최소한의 속성 집합

릴레이션의 다른 속성과 구분되어 별도로 표시되며, 릴레이션의 데이터를 검색하고 관리하는 데에 매우 중요한 역할을 함

후보키 중 가장 적합한 속성 또는 속성 집합을 선택

슈퍼키

릴레이션에서 튜플을 고유하게 식별하는 속성들의 집합

후보키

슈퍼키 중에서 기본키로 선택될 수 있는 속성들의 집합

기본키

릴레이션에서 튜플을 고유하게 식별하는 주요 속성

대체키

릴레이션의 후보키 중에서 기본키로 선택되지 않은 나머지 속성을 의미

외래키

참조키라고도 하며 관계형 데이터베이스 모델에서 릴레이션 간의 연결을 위한 속성

다른 테이블의 기본키로 사용되는 속성

릴레이션 간의 관계를 표현하고, 데이터의 일관성과 정확성을 유지하는 참조 무결성을 유지하는 데에 매우 중요한 역할

무결성

무결성의 개념

릴레이션 무결성 규정은 릴레이션을 조작하는 과정에서의 의미적 관계를 명세한 것으로 정의 대상으로 도메인, 키, 종속성 등이 있다.

데이터의 정확성, 일관성, 유효성이 유지되도록 하는 것을 말한다.

데이터에 적용되는 연산에 제한을 두어 데이터의 무결성을 유지한다.

무결성의 종류

개체 무결성

기본키 값은 널(Null) 값이나 중복 값을 가질 수 없다는 제약 조건

특징

고유한 값

기본키로 지정된 속성(열)의 값이 고유하다는 것을 보장한다. 즉, 기본키로 지정된 속성의 값은 릴레이션 내에서 중복되지 않아야 한다.

값의 존재

기본키로 지정된 속성의 값이 NULL이 아니어야 한다는 것을 의미한다. 즉, 기본키로 지정된 속성은 항상 유효한 값을 가져야 한다.

기본키의 일관성

기본키로 지정된 속성이 변경되지 않도록 보장한다. 즉, 기본키 값은 릴레이션 내에서 변경되지 않아야 한다.

참조 무결성

릴레이션 R1에 속성 조합인 외래키를 변경하려면 이를 참조하고 있는 릴레이션 R2의 기본키도 변경해야 한다. 이때 참조할 수 없는 외래키 값을 가질 수 없다는 제약 조건이다.

특징

참조 일관성

외래키로 참조하는 값은 참조된 릴레이션의 기본키 값과 일치해야 한다.

참조 무결성 제약 조건

외래키에 대한 값의 일관성을 강제하며, 참조된 릴레이션의 행을 삭제하거나 수정할 때 무결성을 유지하는 역할을 한다

삭제 및 갱신 동작 제어

외래키가 참조하는 행이 삭제되거나 수정될 대 어떻게 동작할지를 제어한다

참조된 릴레이션의 행이 삭제되면, 해당 행을 참조하는 외래키가 NULL로 변경되거나 기본값으로 설정되거나 삭제 작업이 거부된다.

참조된 릴레이션의 기본키 값이 수정되면, 해당 값을 참조하는 외래키도 같이 수정된다.

관계 유지

외래키와 기본키 간의 관계를 통해 릴레이션들 사이의 상호 작용을 정의하고, 데이터의 정확성과 일관성을 보장한다.

무결성 제약 조건

데이터베이스는 일관성을 유지하고 중복을 제거하는 등 데이터의 신뢰도를 유지해야 한다. 따라서 데이터의 삽입, 삭제, 수정 시 여러 가지 제약 조건이 따른다.

무결성 제약 조건이란 데이터베이스에 저장된 데이터의 일관성과 정확성을 지키는 것, 즉 데이터 무결성을 말한다.

개체 무결성

기본키 값은 NULL값일 수 없고 중복된 값이 없어야 함

테이블에 존재하는 모든 레코드는 기본키 값을 가져야 함

기본키 값을 참조하는 외래키를 가지고 있을 수 있음

개체 무결성 규칙을 준수하는 데 중점을 둠

참조 무결성

외래키 값은 참조하는 기본키 값이 존재해야 한다.

외래키 값은 참조하는 기본키 값과 동일한 데이터를 가지고 있어야 한다.

참조 무결성 제약조건으로는 존재하지 않는 기본키를 참조하지 않아야 한다.

관계 무결성 규칙을 준수하는데 중점을 둔다.

도메인 무결성

각 속성값은 해당 속성 도메인에 지정된 값이어야 한다는 제약 조건이다.
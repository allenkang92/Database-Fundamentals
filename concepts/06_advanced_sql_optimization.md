SQL 활용 및 최적화

절차형 SQL

절차형 SQL(Procedural SQL) 개념

절차형 SQL은 일반적인 개발 언어처럼 SQL 언어에서도 절차 지향적인 프로그램이 가능하도록 하는 트랜잭션 언어

절차형 SQL 종류

프로시저, 사용자 정의 함수, 트리거가 있다.

프로시저(Procedure)

일련의 쿼리들을 마치 하나의 함수처럼 실행하기 위한 쿼리의 집합

사용자 정의 함수(User-Defined-Function)

일련의 SQL 처리를 수행하고, 수행 결과를 단일 값으로 반환할 수 있는 절차형 SQL

트리거(Trigger)

데이터베이스 시스템에서 삽입, 갱신, 삭제 등의 이벤트가 발생할 때마다 관련 작업이 자동으로 수행되는 절차형 SQL

SQL 최적화

튜닝(쿼리 성능 개선)의 개념

튜닝은 데이터베이스에서 프로시저에 있는 SQL 실행 계획을 분석, 수정을 통해 최소의 시간으로 원하는 결과를 얻도록 프로시저를 수정하는 작업이다.

SQL 성능 개선을 통해 데이터 조작 프로시저의 성능 개선이 가능하다.

옵티마이저

옵티마이저(Optimizer)의 개념

옵티마이저는 SQL을 가장 빠르게 효율적으로 수행할 최적의 처리경로를 생성해주는 DBMS 내부의 핵심엔진이다.

옵티마이저가 생성한 SQL 처리 경로를 실행계획(Execution Plan)이라 한다.

옵티마이저의 유형

RBO(Rule Based Optimizer)와 CBO(Cost Based Optimizer)

규칙 기반 옵티마이저(RBO)

통계 정보가 없는 상태에서 사전 등록된 규칙에 따라 질의 실행 계획을 선택하는 옵티마이저

규칙(우선순위) 기반

인덱스 구조, 연산자, 조건절 형태 등

사용자가 원하는 처리경로로 유도하기가 쉬움

비용 기반 옵티마이저(CBO)

통계 정보로부터 모든 접근 경로를 고려한 질의실행계획을 선택하는 옵티마이저

비용(수행 시간) 기반

레코드 개수, 블록 개수, 평균 행 길이, 컬럼 값의 수, 컬럼 값 분포, 인덱스 높이, 클러스터링 팩터 등

옵티마이저의 이해도가 낮아도 성능보장 가능(기본 설정)
# 데이터베이스 스키마와 언어

## 1. 데이터베이스 스키마

### 1.1 스키마의 정의
- 데이터베이스의 구조(개체, 속성, 관계)에 대한 정의
- 데이터베이스의 논리적 구조를 기술
- 데이터의 종류, 구성, 형식 등을 정의
- 데이터의 일관성, 무결성 보장
- 데이터베이스 구조의 유지보수와 확장성 보장

### 1.2 스키마 3계층

#### 1.2.1 외부 스키마 (External Schema)
- 사용자 관점에서의 정의
- 특징:
  - 개별 사용자/응용 프로그램의 뷰
  - 필요한 데이터만 접근 가능
  - 다양한 뷰 제공 가능
  - 사용자에게 적합한 형태로 제공

#### 1.2.2 개념 스키마 (Conceptual Schema)
- 데이터베이스 전체 구조 정의
- 특징:
  - 모든 사용자의 공통 구조
  - 데이터 개체, 관계, 제약조건 정의
  - 접근 권한, 무결성 규칙 포함
  - 범기관적 관점의 정의
  - 전체 구조와 데이터 관계 파악 가능

#### 1.2.3 내부 스키마 (Internal Schema)
- 물리적 저장 구조 정의
- 특징:
  - 실제 저장 방법 기술
  - 레코드 형식 정의
  - 저장 데이터 항목 표현 방법
  - 내부 레코드의 물리적 순서
  - 시스템의 물리적 특성 반영

## 2. 데이터베이스 스키마의 독립성

### 2.1 스키마 독립성의 개념
- 구조 변경이 응용 프로그램에 영향을 주지 않는 성질
- 계층화된 구성과 독립적 관리로 실현

### 2.2 스키마 간의 독립성

#### 2.2.1 논리적 독립성
- 개념 스키마와 외부 스키마 간의 독립성
- 상호 변경이 서로에게 영향을 주지 않음

#### 2.2.2 물리적 독립성
- 개념 스키마와 내부 스키마 간의 독립성
- 물리적 저장 구조 변경이 상위 스키마에 영향을 주지 않음

## 3. 데이터베이스 언어

### 3.1 데이터 정의어 (DDL)
- 데이터베이스 객체 구조 정의
- 주요 명령어:
  - CREATE: 객체 생성
  - ALTER: 객체 수정
  - DROP: 객체 삭제

### 3.2 데이터 조작어 (DML)
- 데이터 처리 인터페이스
- 주요 명령어:
  - SELECT: 데이터 조회
  - INSERT: 데이터 추가
  - UPDATE: 데이터 수정
  - DELETE: 데이터 삭제

### 3.3 데이터 제어어 (DCL)
- 데이터 보안과 무결성 관리
- 주요 명령어:
  1. 무결성 관련
     - COMMIT: 트랜잭션 완료
     - ROLLBACK: 트랜잭션 취소
  2. 권한 관련
     - GRANT: 권한 부여
     - REVOKE: 권한 취소
     - CREATE USER: 사용자 생성
     - DROP USER: 사용자 삭제

## 4. 데이터베이스 스키마

## 1. 스키마의 정의
- 데이터베이스의 구조와 제약조건을 정의한 메타데이터
- 데이터베이스를 구성하는 데이터 개체, 속성, 관계 등의 정의
- 데이터의 구조, 표현 방법, 관계 등 명세

## 2. 스키마의 특징

### 2.1 데이터 독립성
- 응용 프로그램과 데이터 분리
- 논리적/물리적 독립성 보장
- 데이터 구조 변경 용이

### 2.2 데이터 무결성
- 데이터의 정확성 보장
- 제약조건 정의와 강제
- 일관성 유지

### 2.3 데이터 보안
- 접근 권한 정의
- 뷰를 통한 데이터 보호
- 보안 정책 구현

## 3. 스키마의 종류

### 3.1 외부 스키마 (External Schema)
- 사용자나 응용 프로그램의 관점에서 본 데이터베이스 구조
- 서브 스키마라고도 함
- 논리적 데이터 독립성 제공

### 3.2 개념 스키마 (Conceptual Schema)
- 조직 전체 관점에서 본 데이터베이스 구조
- 모든 응용 시스템과 사용자들이 필요로 하는 데이터 정의
- 통합된 뷰 제공

### 3.3 내부 스키마 (Internal Schema)
- 물리적 저장 장치 관점에서 본 데이터베이스 구조
- 실제 저장될 레코드의 형식 정의
- 물리적 데이터 독립성 제공

## 4. 스키마 수준의 사상

### 4.1 외부/개념 사상
- 외부 스키마와 개념 스키마의 대응 관계
- 논리적 데이터 독립성 실현
- 사용자 뷰 정의

### 4.2 개념/내부 사상
- 개념 스키마와 내부 스키마의 대응 관계
- 물리적 데이터 독립성 실현
- 저장 구조 변경 허용

## 5. 스키마 설계 과정

### 5.1 요구사항 분석
- 사용자 요구사항 수집
- 데이터 요구사항 정의
- 제약조건 파악

### 5.2 개념적 설계
- E-R 다이어그램 작성
- 개체와 관계 정의
- 속성 정의

### 5.3 논리적 설계
- 개념적 스키마를 논리적 스키마로 변환
- 정규화 수행
- 무결성 제약조건 정의

### 5.4 물리적 설계
- 물리적 저장 구조 설계
- 접근 경로 설계
- 성능 최적화
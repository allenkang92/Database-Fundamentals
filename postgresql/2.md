Architectural Fundamentals
PostgreSQL 시스템 구조를 이해하려면 먼저 기본 개념을 숙지해야 합니다. PostgreSQL의 구성 요소가 어떻게 상호 작용하는지 이해하면 이 장을 더 쉽게 공부할 수 있습니다.

데이터베이스 용어에서 PostgreSQL는 클라이언트/서버 모델을 사용합니다. 하나의 PostgreSQL 세션은 다음과 같은 프로세스(프로그램)로 구성됩니다:

• 서버 프로세스: 데이터베이스 파일을 관리하고, 클라이언트 애플리케이션이 데이터베이스에 연결하도록 허용하며, 클라이언트를 대신해 데이터베이스 작업을 수행합니다. 데이터베이스 서버 프로그램은 “postgres”라고 불립니다.

• 사용자의 클라이언트(프런트엔드) 애플리케이션: 데이터베이스 연산을 실행하려는 프로그램입니다. 클라이언트 애플리케이션은 텍스트 지향 도구, 그래픽 애플리케이션, 웹 페이지를 표시하기 위해 데이터베이스에 접근하는 웹 서버, 혹은 특수한 데이터베이스 유지보수 도구 등 매우 다양합니다. 몇몇 클라이언트 애플리케이션은 PostgreSQL 배포판에 포함되어 있지만, 대부분은 사용자가 직접 개발합니다.

클라이언트/서버 애플리케이션에서 일반적으로 클라이언트와 서버는 서로 다른 호스트에서 동작할 수 있습니다. 이 경우 둘은 TCP/IP 네트워크 연결을 통해 통신합니다. 이 점을 기억하십시오. 클라이언트 머신에서 접근 가능한 파일이 데이터베이스 서버 머신에서 접근 불가능하거나, 다른 파일 이름을 통해서만 접근 가능한 경우도 있기 때문입니다.

PostgreSQL 서버는 다수의 클라이언트 연결을 동시에 처리할 수 있습니다. 이를 위해 연결마다 새로운 프로세스를 시작(“fork”)합니다. 그 시점부터 클라이언트와 새로 만들어진 서버 프로세스는 원래 postgres 프로세스의 개입 없이 통신합니다. 따라서 관리용 서버 프로세스는 항상 실행되어 클라이언트 연결을 대기하고, 클라이언트와 그에 연결된 서버 프로세스는 연결이 생성되거나 종료될 때 생겼다가 사라집니다. (이 모든 과정은 사용자에게는 보이지 않으며, 여기서는 전체 개념을 설명하기 위해 언급합니다.)

Creating a Database 
## 데이터베이스 생성

데이터베이스 서버에 접근할 수 있는지 확인하는 첫 번째 테스트는 데이터베이스를 생성해보는 것입니다. 실행 중인 PostgreSQL 서버는 여러 데이터베이스를 관리할 수 있습니다. 일반적으로 각 프로젝트나 사용자마다 별도의 데이터베이스를 사용합니다.

아마도 사이트 관리자 분께서 이미 사용할 데이터베이스를 생성해 두셨을 것입니다. 그런 경우 이 단계를 생략하고 다음 섹션으로 넘어갈 수 있습니다.

새로운 데이터베이스를 생성하려면, 이 예제에서는 `mydb`라는 이름으로, 다음 명령을 사용합니다:

```shell
$ createdb mydb
응답이 없으면 이 단계가 성공적으로 완료된 것이므로 이 섹션의 나머지 부분은 건너뛰어도 됩니다.

다음과 같은 메시지가 나타난다면:
createdb: command not found

PostgreSQL이 제대로 설치되지 않은 것입니다. 설치되지 않았거나, 쉘의 검색 경로에 포함되지 않았을 수 있습니다. 대신 절대 경로를 사용하여 명령을 호출해 보십시오:
$ /usr/local/pgsql/bin/createdb mydb

이트의 경로는 다를 수 있습니다. 상황을 해결하려면 사이트 관리자에게 문의하거나 설치 지침을 확인하십시오.

또 다른 응답은 다음과 같을 수 있습니다:

이는 서버가 시작되지 않았거나 createdb가 기대하는 곳에서 수신하고 있지 않다는 의미입니다. 다시 한번 설치 지침을 확인하거나 관리자에게 문의하십시오.

또 다른 응답은 다음과 같습니다:
createdb: error: connection to server on socket "/tmp/.s.PGSQL.5432" failed: FATAL:  role "joe" does not exist
여기서 자신의 로그인 이름이 언급됩니다. 이는 관리자가 PostgreSQL 사용자 계정을 생성하지 않았을 때 발생합니다. (PostgreSQL 사용자 계정은 운영 체제 사용자 계정과는 별개입니다.) 관리자인 경우, 계정 생성에 대한 도움을 받으려면 21장을 참조하십시오. 첫 번째 사용자 계정을 생성하려면 보통 postgres로 설치된 운영 체제 사용자로 전환해야 합니다. 또는 운영 체제 사용자 이름과 다른 PostgreSQL 사용자 이름이 할당된 경우, -U 옵션을 사용하거나 PGUSER 환경 변수를 설정하여 PostgreSQL 사용자 이름을 지정해야 합니다.

사용자 계정이 있지만 데이터베이스를 생성할 권한이 없는 경우, 다음과 같은 메시지가 표시됩니다:

database
모든 사용자가 새로운 데이터베이스를 생성할 수 있는 권한을 가진 것은 아닙니다. PostgreSQL이 데이터베이스 생성 요청을 거부하는 경우, 사이트 관리자가 데이터베이스 생성 권한을 부여해야 합니다. 이 경우 사이트 관리자에게 문의하십시오. PostgreSQL을 직접 설치한 경우, 이 튜토리얼의 목적으로 서버를 시작한 사용자 계정으로 로그인해야 합니다.[1]

또한 다른 이름으로도 데이터베이스를 생성할 수 있습니다. PostgreSQL은 주어진 사이트에서 여러 데이터베이스를 생성할 수 있도록 허용합니다. 데이터베이스 이름은 알파벳 문자로 시작해야 하며, 길이는 63바이트로 제한됩니다. 편리한 선택은 현재 사용자 이름과 동일한 이름의 데이터베이스를 생성하는 것입니다. 많은 도구들이 데이터베이스 이름을 기본값으로 가정하기 때문에 입력을 줄일 수 있습니다. 해당 데이터베이스를 생성하려면 다음과 같이 입력하십시오:

$ createdb

더 이상 데이터베이스를 사용하지 않으려면 제거할 수 있습니다. 예를 들어, mydb 데이터베이스의 소유자(생성자)인 경우, 다음 명령을 사용하여 파괴할 수 있습니다:

$ dropdb mydb

(이 명령에서는 데이터베이스 이름이 사용자 계정 이름으로 기본 설정되지 않습니다. 항상 이름을 지정해야 합니다.) 이 작업은 데이터베이스와 관련된 모든 파일을 물리적으로 제거하며 되돌릴 수 없으므로, 신중하게 수행해야 합니다.

createdb와 dropdb에 대한 자세한 내용은 각각의 명령어 문서에서 확인할 수 있습니다.

[1] 이 작업이 가능한 이유는 PostgreSQL 사용자 이름이 운영 체제 사용자 계정과 별개이기 때문입니다. 데이터베이스에 연결할 때, 연결할 PostgreSQL 사용자 이름을 선택할 수 있습니다; 그렇지 않으면 현재 운영 체제 계정과 동일한 이름으로 기본 설정됩니다. 사실, PostgreSQL 서버를 시작한 운영 체제 사용자와 동일한 이름을 가진 PostgreSQL 사용자 계정은 항상 존재하며, 이 사용자 계정은 데이터베이스를 생성할 수 있는 권한을 가지고 있습니다. 해당 사용자로 로그인하는 대신, 어디서든 -U 옵션을 사용하여 연결할 PostgreSQL 사용자 이름을 선택할 수 있습니다. ```